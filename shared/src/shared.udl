namespace shared {
  [Throws=PlatformError]
  string add_for_platform(u32 left, u32 right, Platform platform);
  Effect update(State state, Msg msg);
};

dictionary State {
  string cat_fact;
};

[Enum]
interface Msg {
  GetNewFact();
  ReceiveFact(sequence<u8> bytes);
};

[Enum]
interface Effect {
  Render(State state);
  Get(State state, string url);
};

[Error]
enum PlatformError {
  "InternalPlatformError",
};

callback interface Platform {
  [Throws=PlatformError]
  string get();
};
